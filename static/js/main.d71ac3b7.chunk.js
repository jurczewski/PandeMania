(this.webpackJsonppandemania=this.webpackJsonppandemania||[]).push([[0],{64:function(e,t,n){},68:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),c=n.n(a),o=n(11),i=n.n(o),s=n(23),u=(n(64),n(13)),l=n.n(u),d=n(18),f=n(21),h=n(44),p=n.n(h),j=n(22),b=n.n(j),v=n(77),m=n(112),O=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",fetch("".concat("https://api.covid19api.com/country/").concat(t)).then((function(e){return e.ok?e.json():[]})).then((function(e){return e.map((function(e){return{id:e.ID,country:e.Country,confirmed:e.Confirmed,recovered:e.Recovered,date:Date.parse(e.Date)}}))})));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.warn(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),g=(n(68),"area-datetime"),w=Object.freeze({ONE_MONTH:"one_month",SIX_MONTH:"six_months",ONE_YEAR:"one_year",YTD:"ytd",ALL:"all"}),x={series:[{data:[[(new Date).getTime(),0]]}],options:{chart:{id:g,zoom:{autoScaleYaxis:!0}},theme:{mode:"dark"},dataLabels:{enabled:!1},xaxis:{type:"datetime"},tooltip:{x:{format:"dd MMM yyyy"}}},selection:w.ALL},y=function(e){var t=e.countryName,n=Object(a.useState)(x),c=Object(s.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){u()}),[t]);var u=function(){var e=Object(d.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:n=e.sent,r=[],"undefined"!==typeof n&&(r=[{name:"Confirmed cases",data:n.map((function(e){return[e.date,e.confirmed]}))},{name:"Recovered cases",data:n.map((function(e){return[e.date,e.recovered]}))}]),i(Object(f.a)(Object(f.a)({},o),{},{series:r}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=[{value:w.ONE_MONTH,label:"1M"},{value:w.SIX_MONTH,label:"6M"},{value:w.ONE_YEAR,label:"1Y"},{value:w.YTD,label:"YTD"},{value:w.ALL,label:"ALL"}];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,{className:"toolbar",children:h.map((function(e){return Object(r.jsx)(v.a,{variant:"contained",color:o.selection===e.value?"primary":"",onClick:function(){return function(e){var t,n=o.series[0].data,r=n.length-1;if(-1!==r)switch(i(Object(f.a)(Object(f.a)({},o),{},{selection:e})),e){case w.ONE_MONTH:t=31,b.a.exec(g,"zoomX",n[r-t][0],n[r][0]);break;case w.SIX_MONTH:t=186,b.a.exec(g,"zoomX",n[r-t][0],n[n.length-1][0]);break;case w.ONE_YEAR:t=365,b.a.exec(g,"zoomX",n[r-t][0],n[r][0]);break;case w.YTD:var a=new Date((new Date).getFullYear(),0,1);b.a.exec(g,"zoomX",a.getTime(),n[r][0]);break;case w.ALL:b.a.exec(g,"zoomX",n[0][0],n[r][0])}}(e.value)},className:o.selection===e.value?"active":"",children:e.label},e.value)}))}),Object(r.jsxs)("div",{className:"chart-wrapper",children:[0===o.series[0].data.length&&Object(r.jsx)("h2",{className:"chart-wrapper__header",children:"No data"}),Object(r.jsx)(p.a,{options:o.options,series:o.series,type:"area",height:500})]})]})},k=n(119),N=n(120),L=n(50),S=n(116),T=n(46),C=n.n(T),A=n(47),E=n.n(A),_=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",fetch("https://api.covid19api.com/countries").then((function(e){return e.ok?e.json():[]})).then((function(e){return e.map((function(e){return{country:e.Country,slug:e.Slug,ISO2:e.ISO2}}))})));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.warn(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),M=Object.freeze({16:16,24:24,32:32,48:48,64:64}),z=Object.freeze({FLAT:"flat",SHINY:"shiny"}),I=function(e){var t=e.code,n=e.size,a=e.name,c=e.theme;return Object(r.jsx)("img",{src:"https://www.countryflags.io/".concat(t,"/").concat(c,"/").concat(n,".png"),alt:a})},D=I;I.defaultProps={code:"PL",size:M[16],name:"Poland",theme:z.FLAT};n(73);var P=Object(L.a)({palette:{type:"dark"}}),Y=function(e){var t=e.setPickedCountry,n=Object(a.useState)([]),c=Object(s.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,n=t.sort((function(e,t){return e.country.localeCompare(t.country)})),i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(S.a,{theme:P,children:Object(r.jsx)(N.a,{id:"highlights-demo",theme:P,style:{width:300},options:o,getOptionLabel:function(e){return e.country},onChange:function(e,n){return function(e){e&&t(e)}(n)},renderInput:function(e){return Object(r.jsx)(k.a,Object(f.a)(Object(f.a)({},e),{},{label:"Countries",variant:"outlined",margin:"normal"}))},renderOption:function(e,t){var n=t.inputValue,a=E()(e.country,n),c=C()(e.country,a);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D,{code:e.ISO2,name:e.country}),c.map((function(e){return Object(r.jsx)("span",{style:{fontWeight:e.highlight?700:400},children:e.text},e.text)}))]})}})})},F=function(){var e=Object(a.useState)({slug:"poland",country:"Poland"}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("header",{children:Object(r.jsx)("h1",{children:"PandeMania \ud83e\udda0"})}),Object(r.jsxs)("main",{children:[Object(r.jsxs)("p",{className:"title",children:["Cases and recoveries for whole country:",n&&Object(r.jsxs)("span",{className:"bold",children:[" ",n.country]}),Object(r.jsx)(D,{code:n.ISO2,size:24,name:n.country})]}),Object(r.jsx)(Y,{setPickedCountry:function(e){return c(e)}}),Object(r.jsx)(y,{countryName:n.slug})]})]})};var W=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(F,{})})},X=(n(75),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(W,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");X?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):H(t,e)}))}}(),R()}},[[76,1,2]]]);
//# sourceMappingURL=main.d71ac3b7.chunk.js.map