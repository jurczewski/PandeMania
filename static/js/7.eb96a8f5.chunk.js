(this.webpackJsonppandemania=this.webpackJsonppandemania||[]).push([[7],{121:function(e,t,n){},124:function(e,t,n){},129:function(e,t,n){},131:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var r=n(54),a=n(2),c=n(1),o=(n(121),n(57)),s=n.n(o),u=n(58),i=n(72),l=n(123),f=n.n(l),d=n(94),j=n.n(d),h=n(187),p=n(186),b=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://api.covid19api.com/country/").concat(t)).then((function(e){return e.ok?e.json():[]})).then((function(e){return e.map((function(e){return{id:e.ID,country:e.Country,confirmed:e.Confirmed,recovered:e.Recovered,deaths:e.Deaths,active:e.Active,date:Date.parse(e.Date)}}))})).catch((function(e){return console.warn(e),[]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=(n(124),"area-datetime"),m=Object.freeze({ONE_MONTH:"one_month",SIX_MONTH:"six_months",ONE_YEAR:"one_year",YTD:"ytd",ALL:"all"}),v={series:[{data:[[(new Date).getTime(),0]]}],options:{chart:{id:O,zoom:{autoScaleYaxis:!0}},theme:{mode:"dark"},dataLabels:{enabled:!1},xaxis:{type:"datetime"},tooltip:{x:{format:"dd MMM yyyy"}}},selection:m.ALL},x=function(e){var t=e.countryName,n=Object(c.useState)(v),o=Object(r.a)(n,2),l=o[0],d=o[1];Object(c.useEffect)((function(){x()}),[t]);var x=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:n=e.sent,r=[],"undefined"!==typeof n&&(r=[{name:"Confirmed cases",data:n.map((function(e){return[e.date,e.confirmed]}))},{name:"Recovered cases",data:n.map((function(e){return[e.date,e.recovered]}))}],d(Object(i.a)(Object(i.a)({},l),{},{series:r})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=[{value:m.ONE_MONTH,label:"1M"},{value:m.SIX_MONTH,label:"6M"},{value:m.ONE_YEAR,label:"1Y"},{value:m.YTD,label:"YTD"},{value:m.ALL,label:"ALL"}];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{className:"toolbar",children:y.map((function(e){return Object(a.jsx)(h.a,{variant:"contained",color:l.selection===e.value?"primary":"",onClick:function(){return function(e){var t,n=l.series[0].data,r=n.length-1;if(-1!==r)switch(d(Object(i.a)(Object(i.a)({},l),{},{selection:e})),e){case m.ONE_MONTH:t=31,j.a.exec(O,"zoomX",n[r-t][0],n[r][0]);break;case m.SIX_MONTH:t=186,j.a.exec(O,"zoomX",n[r-t][0],n[n.length-1][0]);break;case m.ONE_YEAR:t=365,j.a.exec(O,"zoomX",n[r-t][0],n[r][0]);break;case m.YTD:var a=new Date((new Date).getFullYear(),0,1);j.a.exec(O,"zoomX",a.getTime(),n[r][0]);break;case m.ALL:j.a.exec(O,"zoomX",n[0][0],n[r][0])}}(e.value)},className:l.selection===e.value?"active":"",children:e.label},e.value)}))}),Object(a.jsxs)("div",{className:"chart-wrapper",children:[0===l.series[0].data.length&&Object(a.jsx)("h2",{className:"chart-wrapper__header",children:"No data"}),Object(a.jsx)(f.a,{options:l.options,series:l.series,type:"area",height:500})]})]})};x.defaultProps={countryName:null};var y=x,g=n(207),N=n(208),w=n(136),k=n(188),S=n(126),C=n.n(S),I=n(127),L=n.n(I),T=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.covid19api.com/countries").then((function(e){return e.ok?e.json():[]})).then((function(e){return e.map((function(e){return{country:e.Country,slug:e.Slug,ISO2:e.ISO2}}))})).catch((function(e){return console.warn(e),[]})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.find((function(e){return e.ISO2===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=n(64),A=(n(129),Object(w.a)({palette:{type:"dark"}})),D=function(e){var t=e.setPickedCountry,n=Object(c.useState)([]),o=Object(r.a)(n,2),l=o[0],f=o[1];Object(c.useEffect)((function(){d()}),[]);var d=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,n=t.sort((function(e,t){return e.country.localeCompare(t.country)})),f(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(k.a,{theme:A,children:Object(a.jsx)(N.a,{id:"highlights-demo",theme:A,style:{width:300},options:l,getOptionLabel:function(e){return e.country},onChange:function(e,n){return function(e){e&&t(e)}(n)},renderInput:function(e){return Object(a.jsx)(g.a,Object(i.a)(Object(i.a)({},e),{},{label:"Countries",variant:"outlined",margin:"normal"}))},renderOption:function(e,t){var n=t.inputValue,r=L()(e.country,n),c=C()(e.country,r);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{code:e.ISO2,name:e.country}),c.map((function(e){return Object(a.jsx)("span",{style:{fontWeight:e.highlight?700:400},children:e.text},e.text)}))]})}})})},E=n(134),M=n.n(E),Y=n(132),P=n.n(Y),X=(n(131),{fontSize:"2rem"}),H=function(e){var t=e.isSet,n=e.onClick;return Object(a.jsx)("div",{className:"wrapper",children:t?Object(a.jsx)(P.a,{onClick:n,className:"icon",style:X}):Object(a.jsx)(M.a,{onClick:n,className:"icon",style:X})})};H.defaultProps={isSet:!1};var R=H,F=n(51),J=n(24),U=n(194),W=n(195),B=n(197),V=n(193),q=n(196),G=n(190),K=Object(w.a)({palette:{type:"dark"}}),Q=[Z("Confirmed",0),Z("Deaths",0),Z("Recovered",0),Z("Active",0)];function Z(e,t){return{name:e,number:t}}var $=function(e){var t=e.countryName,n=Object(c.useState)(Q),o=Object(r.a)(n,2),i=o[0],l=o[1];Object(c.useEffect)((function(){f()}),[t]);var f=function(){var e=Object(u.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:0!==(n=e.sent).length?(r=n[n.length-1],l([Z("Confirmed",r.confirmed),Z("Deaths",r.deaths),Z("Recovered",r.recovered),Z("Active",r.active)])):l(Q);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{style:{marginBottom:"1rem"},children:Object(a.jsx)(k.a,{theme:K,children:Object(a.jsx)(V.a,{component:G.a,children:Object(a.jsx)(U.a,{"aria-label":"country statistic",children:Object(a.jsx)(W.a,{children:i.map((function(e){return Object(a.jsxs)(q.a,{children:[Object(a.jsx)(B.a,{component:"th",scope:"row",style:{fontWeight:"bold"},children:e.name}),Object(a.jsx)(B.a,{align:"right",children:e.number})]},e.name)}))})})})})})};$.defaultProps={countryName:null};var ee=$,te={slug:null,country:null,ISO2:null};t.default=function(){var e=Object(c.useContext)(F.a),t=e.country,n=e.user,o=e.setUser,s=e.fetched,u=Object(c.useState)(te),i=Object(r.a)(u,2),l=i[0],f=i[1];Object(c.useEffect)((function(){"undefined"!==typeof t&&""!==t&&_(t).then((function(e){f(e||te)}))}),[t]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("main",{children:[Object(a.jsxs)("p",{className:"title",children:["Cases and recoveries for whole country:",l.country?Object(a.jsxs)("span",{className:"bold",children:[" ",l.country]}):Object(a.jsx)("span",{children:"No country set"}),Object(a.jsx)(z.a,{code:l.ISO2,size:24,name:l.country})]}),Object(a.jsxs)("div",{className:"picker",children:[Object(a.jsx)(D,{setPickedCountry:function(e){return f(e)}}),n&&Object(a.jsx)(R,{onClick:function(){var e=n.uid;Object(J.a)(e,l.ISO2),o({user:n,fetched:s,country:l.ISO2})},isSet:l.ISO2===t})]}),Object(a.jsx)(y,{countryName:l.slug}),Object(a.jsx)(ee,{countryName:l.slug})]})})}},51:function(e,t,n){"use strict";var r=n(1),a={user:null,fetched:!1,country:"",setUser:function(){}},c=n.n(r).a.createContext(a);t.a=c},64:function(e,t,n){"use strict";var r=n(2),a=(n(1),Object.freeze({16:16,24:24,32:32,48:48,64:64})),c=Object.freeze({FLAT:"flat",SHINY:"shiny"}),o=function(e){var t=e.code,n=e.size,a=e.name,c=e.theme,o={width:n,height:n};return t&&n&&a&&c?Object(r.jsx)("img",{src:"https://www.countryflags.io/".concat(t,"/").concat(c,"/24.png"),alt:a,style:o}):null};t.a=o,o.defaultProps={code:"PL",size:a[16],name:"Poland",theme:c.FLAT}}}]);
//# sourceMappingURL=7.eb96a8f5.chunk.js.map